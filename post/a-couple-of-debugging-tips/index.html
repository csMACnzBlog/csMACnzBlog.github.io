<!DOCTYPE html>
<html lang="en">
    <head>

        <script>
            if(!/blog\.csmac\.nz/.test(window.location.host)) {
                window.location = "https:\/\/blog.csmac.nz\/post\/a-couple-of-debugging-tips\/";
            }
        </script>

        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name='author' content='Mark Clearwater, csmacnz@csmac.co.nz'>
        <meta name='language' content='EN'>
        <meta name='medium' content='blog'>
        <meta name="google-adsense-account" content="ca-pub-4517187877737982">

    
        <title>A couple of debugging tips - csMACnz&#39;s Blog</title>
        <meta name="description" content="I had an idea of something I wanted to post, but a quick google turns up I posted it 6 months ago, so here are some debugging tips. Console Break So you are writing a console app? Cool. Want to see the output? Of course, …">
        <meta name='keywords' content='csMACnz, Tips and Tricks, C Sharp, Visual Studio'>

        
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="A couple of debugging tips"/>
        <meta property="og:description" content="I had an idea of something I wanted to post, but a quick google turns up I posted it 6 months ago, so here are some debugging tips. Console Break So you are writing a console app? Cool. Want to see the output? Of course, …"/>
        <meta property="og:site_name" content="csMACnz&#39;s Blog"/>
        <meta property="og:url" content="https://blog.csmac.nz/post/a-couple-of-debugging-tips/"/>
        <meta property="og:image" content="https://csmac.nz/Content/icon/icon.png"/>

        
        <meta name="twitter:card" content="summary"/>
        <meta name="twitter:title" content="A couple of debugging tips"/>
        <meta name="twitter:description" content="I had an idea of something I wanted to post, but a quick google turns up I posted it 6 months ago, so here are some debugging tips. Console Break So you are writing a console app? Cool. Want to see the output? Of course, …"/>
        <meta name="twitter:image" content="https://csmac.nz/Content/icon/icon.png"/>
        <meta name="twitter:site" content="@csMACnz"/>
        <meta name="twitter:creator" content="@csMACnz"/>
    

        <link rel="apple-touch-icon-precomposed" href="/images/icon/apple-touch-icon-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/icon/apple-touch-icon-72x72-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/icon/apple-touch-icon-114x114-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/icon/apple-touch-icon-144x144-precomposed.png">
        <link rel="icon" type="image/png" href="/images/icon/icon.png" />
        <link rel='me' type='text/html' href='https://github.com/csMACnz'>

        <script>
            var d_id  = 'csmacnz';
        </script>

        <link rel="stylesheet" href="/css/mastodon-timeline.min.css" />

        <link rel="stylesheet" type="text/css" href="/css/style.css" />
        <link rel="stylesheet" type="text/css" href="/css/blogstyle.css" />

        <link rel="alternate stylesheet" title="dark-code" type="text/css" href="/css/solarized_dark.css" disabled>
        <link rel="stylesheet" title="light-code" type="text/css" href="/css/github-gist.css" disabled>

        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4517187877737982"
        crossorigin="anonymous"></script>

        
        
        <script type="application/ld+json">
        {
            "@context" : "https://schema.org",
            "@type" : "Article",
            "publisher": {
                "@type": "Organization",
                "name": "csMACnz&#x27;s Blog",
                "logo": "https:\/\/blog.csmac.nz\/images\/icon\/apple-touch-icon-144x144-precomposed.png"
            },
            "author": {
                "@type": "Person",
                "name": "Mark Clearwater",
                "image": {
                    "@type": "ImageObject",
                    "url": "//www.gravatar.com/avatar/c97410951ec3738a3fd4a2dfb17a5d9c?d=404&s=250",
                    "width": 440,
                    "height": 295
                },
                "url": "https:\/\/blog.csmac.nz",
                "sameAs": [
                    "https://csmac.nz"
                ]
            },
            "articleSection" : "post",
            "name" : "A couple of debugging tips",
            "headline" : "A couple of debugging tips",
            "url" : "https:\/\/blog.csmac.nz\/post\/a-couple-of-debugging-tips\/",
            "datePublished": "2016-05-23T04:33:09.000Z",
            "dateModified" : "2016-05-23T04:33:09.000Z",
            "keywords" : [ "Tips and Tricks", "C Sharp", "Visual Studio" ]
            "description" : "I had an idea of something I wanted to post, but a quick google turns up I posted it 6 months ago, so here are some debugging tips.\nConsole Break So you are writing a console app? Cool. Want to see the output? Of course, you do. But when you run it, the app pops up then disappears really quickly right? No? Have you a break point in the last line?",
            "mainEntityOfPage": {
                "@type": "WebPage",
                "@id": "https:\/\/blog.csmac.nz"
            }
            "inLanguage" : "en-US",
            "author" : "Mark Clearwater",
            "creator" : "Mark Clearwater",
            "accountablePerson" : "Mark Clearwater",
            "copyrightHolder" : "Mark Clearwater",
            "copyrightYear" : "2016",
            "wordCount" : "539",
        }
        </script>
        
        
        
    </head>
    <body class="blog">
        <div class="page-area">

            <header class="header-area">
                <h1 class="header-area-title">csMACnz</h1>
            </header>
            <nav class="navigation-area header-bar-parent">
                <div class="header-bar header-bar-blog">
                    <ul class="menu">
                        <li class="menu-item"><a class="menu-item-content" href="https://csmac.nz">Home</a></li>
                        <li class="menu-item"><a class="menu-item-content" href="https://csmac.nz/baconvaders">Bacon Vaders</a></li>
                        <li class="menu-item"><a class="menu-item-content CurrentButton" href="https://blog.csmac.nz">Blog</a></li>
                        <li class="menu-item"><a class="menu-item-content" href="https://csmac.nz/metablog">Meta</a></li>
                    </ul>
                </div>
            </nav>

            <div id="content" class="content-area">

<!--Page Content Begins-->

<article>
    <div class="content-box" itemscope itemtype=" https://schema.org/Article"><span class="post-meta"><time datetime="2016-05-23"  itemprop="datePublished">23 May 16</time> in <a href="/categories/software-engineering">Software Engineering</a> on <a href="/tags/tips-and-tricks">Tips and Tricks</a>,  <a href="/tags/c-sharp">C Sharp</a>,  <a href="/tags/visual-studio">Visual Studio</a></span>
<h1 class="post-title" itemprop="headline">A couple of debugging tips</h1>
    
        <section class="post-content"  itemprop="articleBody">
            <p>I had an idea of something I wanted to post, but a quick google turns up I <a href="http://blog.csmac.nz/on-gitversioning-subdirectories/">posted it 6 months ago</a>, so here are some debugging tips.</p>
<h3 id="console-break">Console Break</h3>
<p>So you are writing a console app? Cool. Want to see the output? Of course, you do. But when you run it, the app pops up then disappears really quickly right? No? Have you a break point in the last line? Well, that&rsquo;s sensible.</p>
<p>But what if you do not want to remember to put that break point in everytime git cleans your directory, or someone pulls the code for the first time?</p>
<p>How about this?</p>
<pre tabindex="0"><code>class Program
{
    static void Main(string[] args)
    {
        //App goes here

        Console.ReadLine();
    }
}
</code></pre><p>Nice trick! Now every time the app runs, it waits for a keypress to continue. But what about when you run the app for real. Damn! I didn&rsquo;t really want the app to wait for a key to exit&hellip; I&rsquo;ve got it!</p>
<pre tabindex="0"><code>class Program
{
    static void Main(string[] args)
    {
        //App goes here


        if(Debugger.IsAttached)
        {    
            Console.ReadLine();
        }
    }
}
</code></pre><p>Now, it will only stop if the debugger is attached. Perfect.</p>
<p>Performance overhead you say? Really? I wouldn&rsquo;t be worried but if you want we can do this:</p>
<pre tabindex="0"><code>class Program
{
    static void Main(string[] args)
    {
        //App goes here


        BreakOnDebug();
    }

    [Conditional(&#34;DEBUG&#34;)]
    private void BreakOnDebug()
    {
        if (Debugger.IsAttached)
        {
            Console.ReadLine();
        }
    }
}
</code></pre><p>Happy?</p>
<p>You can also try using <code>if (Debugger.IsAttached) {Debugger.Break(); }</code> instead of ReadLine to force the code to actually stop and to start debugging the state of your application instead. Although to be fair, at the end of the app, there probably isn&rsquo;t much to see.</p>
<h3 id="command-line-attach">Command-line attach</h3>
<p>But I really want to be able to run this at the command line, from a specific folder, and play with the arguments. And I just found it crashes for some reason.  Well, I let it attach to VS automatically (the dialog does come up), but what I really want to do, is run it attached to the debugger and step through.  How about this?</p>
<pre tabindex="0"><code>class Program
{
    static void Main(string[] args)
    {
        Console.WriteLine(&#34;Attach debugger and press any key to continue&#34;);
        Console.ReadLine(); 

        //breakpoint goes here

        //App goes here
        ...    
    }
}
</code></pre><p>Now I can run my app and it stops before starting.  I can use the <em>debug =&gt; attach to process&hellip;</em> menu it Visual Studio to attach, like I would to an IIS site, but instead to the running instance of my console app. Easy. Press a key in the console and any of my breakpoints and I can step through the specific parameters running from the specific folder and get the bottom of this bug.</p>
<p>The only catch here is to not forget to remove the code when not running debug builds.  Or we could use the same trick again:</p>
<pre tabindex="0"><code>class Program
{
    static void Main(string[] args)
    {
        StopAndWaitOnDebug();

        //breakpoint goes here

        //App goes here
        ...    
    }
    
    [Conditional(&#34;DEBUG&#34;)]
    private void StopAndWaitOnDebug()
    {
        Console.WriteLine(&#34;Attach debugger and press any key to continue&#34;);
        Console.ReadLine();
    }
}
</code></pre><p>You can also try using <code>if (Debugger.IsAttached) {Debugger.Break(); }</code> as well after the ReadLine if you really wanted to.</p>
<p>So there you go. Some nice and useful ways to use the <code>Console.ReadLine</code> method for debugging.</p>
</section>
        
        <section class="share">
            Share: 
            <a class="icon-twitter" href="https://twitter.com/share?text=A%20couple%20of%20debugging%20tips&url=https%3a%2f%2fblog.csmac.nz%2fpost%2fa-couple-of-debugging-tips%2f"
                onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <span>Twitter</span>
            </a>
            |
            <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.csmac.nz%2fpost%2fa-couple-of-debugging-tips%2f"
                onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                <span>Facebook</span>
            </a>
        </section>
    </div>
    <div class="content-box">
        
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            var disqus_shortname = d_id; 
            var disqus_title = 'A couple of debugging tips';
            
             
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
    </div>
</article>

<!--Page Content Ends-->

            </div><aside class="sidebar-area">

<!--Sidebar Content Begins-->

                <div class="header-bar-parent sidebar-item">
                    <div class="header-bar header-bar-mastodon">Mastodon</div>
                    
                    <div id="mt-container" class="mt-container">
                        <div class="mt-body" role="feed">
                            <div class="mt-loading-spinner"></div>
                        </div>
                    </div>
                    
                </div>


                <div class="header-bar-parent sidebar-item">
                    <div class="header-bar header-bar-rss">Subscribe</div>
                    
                    <a href="/rssfeeds/" title="csMACnz's Blog">RSS Feeds</a>
                    <a href="https://feedly.com/i/subscription/feed%2Fhttps%3A%2F%2Ffeeds.feedburner.com%2FcsmacnzBlog" target="_blank" title="csMACnz&amp;#039;s Blog"><img src="https://s3.feedly.com/feedburner/feedly.png" alt="" style="border:0"/></a>
                    <br />
                    <a href="https://www.patreon.com/csMACnz" target="_blank"><img src="/images/patreon.png" /></a>
                    
                    
                </div>


                <div class="header-bar-parent sidebar-item">
                    <div class="header-bar header-bar-xbox">Gamercard</div>
                    

                    <div>
                        <a href="https://www.exophase.com/xbox/user/csMACnz/"><img width="288px" src="https://card.exophase.com/1/1476805.png"></a>
                        <a href="http://steamcommunity.com/id/csMACnz/" target="_blank"><img src="https://www.steamsignature.com/status/english/76561197994712512.png" alt="" title="csMACnz's Steam Profile" /></a>
                    </div>
                    
                </div>

<!--Sidebar Content Ends-->

            </aside>

            <footer class="footer-area">

            <p>
                Designed and Maintained by Mark Clearwater; Last updated February 2024.
                <!-- This used to be something useful, now it is just a hack I left it to make layout easier but also as a fun reminder for me of what it used to be -->
                <br /><a class="footer-link" >¯\_(ツ)_/¯</a>
            </p>

            </footer>
        </div>

<!--body scripts Begins-->

        
        <script src="/js/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>

        <script src="/js/codetoggle.js"></script> 

        
        <script src="/js/htmx.min.js"></script>

        
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-08VK9VD3ET"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-08VK9VD3ET');
        </script>

        <script src="/js/mastodon-timeline.min.js"></script>
        <script>
            const myTimeline = new MastodonTimeline({
                instanceUrl: "https://mastodon.nz",
                timelineType: "profile",
                userId: "109867048963758953",
                profileName: "@csMACnz",
                maxNbPostShow: 10,
                hideReblog: true,
            });

        </script>

        <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

<!--body scripts Ends-->


<!-------------------------------->
<!--                            -->
<!--  _(\    |@@|               -->
<!-- (__/\__ \--/ __            -->
<!--    \___|----|  |   __      -->
<!--        \ }{ /\ )_ / _\     -->
<!--        /\__/\ \__O (__     -->
<!--       (--/\--)    \__/     -->
<!--       _)(  )(_             -->
<!--      `---''---`            -->
<!--                            -->
<!-- https://github.com/csMACnz -->
<!-------------------------------->

    </body>
</html>
