<!DOCTYPE html>
<html lang="en">
    <head>

        <script>
            if(!/blog\.csmac\.nz/.test(window.location.host)) {
                window.location = "https:\/\/blog.csmac.nz\/post\/an-almost-seamless-transition-from-ghost-to-hugo\/";
            }
        </script>

        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name='author' content='Mark Clearwater, csmacnz@csmac.co.nz'>
        <meta name='language' content='EN'>
        <meta name='medium' content='blog'>

    
        <title>An almost seamless transition from Ghost to Hugo - csMACnz&#39;s Blog</title>
        <meta name="description" content="Well, I finally did it. Ghost has been sitting on an older version for a long time, my certs were expiring, and I did something about it. TL;DR; My blog engine and hosting were deteriorating fast, so I moved to GitHub â€¦">
        <meta name='keywords' content='csMACnz, Ghost, Hugo, Blog Update'>

        
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="An almost seamless transition from Ghost to Hugo"/>
        <meta property="og:description" content="Well, I finally did it. Ghost has been sitting on an older version for a long time, my certs were expiring, and I did something about it. TL;DR; My blog engine and hosting were deteriorating fast, so I moved to GitHub â€¦"/>
        <meta property="og:site_name" content="csMACnz&#39;s Blog"/>
        <meta property="og:url" content="https://blog.csmac.nz/post/an-almost-seamless-transition-from-ghost-to-hugo/"/>
        <meta property="og:image" content="https://csmac.nz/Content/icon/icon.png"/>

        
        <meta name="twitter:card" content="summary"/>
        <meta name="twitter:title" content="An almost seamless transition from Ghost to Hugo"/>
        <meta name="twitter:description" content="Well, I finally did it. Ghost has been sitting on an older version for a long time, my certs were expiring, and I did something about it. TL;DR; My blog engine and hosting were deteriorating fast, so I moved to GitHub â€¦"/>
        <meta name="twitter:image" content="https://csmac.nz/Content/icon/icon.png"/>
        <meta name="twitter:site" content="@csMACnz"/>
        <meta name="twitter:creator" content="@csMACnz"/>
    

        <link rel="apple-touch-icon-precomposed" href="/images/icon/apple-touch-icon-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/icon/apple-touch-icon-72x72-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/icon/apple-touch-icon-114x114-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/icon/apple-touch-icon-144x144-precomposed.png">
        <link rel="icon" type="image/png" href="/images/icon/icon.png" />
        <link rel='me' type='text/html' href='https://github.com/csMACnz'>

        <script>
            var d_id  = 'csmacnz',
                g_id  = 'UA-18464866-2',
                g_url = 'auto';
        </script>

        <link rel="stylesheet" type="text/css" href="/css/style.css" />
        <link rel="stylesheet" type="text/css" href="/css/blogstyle.css" />

        <link rel="alternate stylesheet" title="dark-code" type="text/css" href="/css/solarized_dark.css" disabled>
        <link rel="stylesheet" title="light-code" type="text/css" href="/css/github-gist.css" disabled>

        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4517187877737982"
        crossorigin="anonymous"></script>

        
        
        <script type="application/ld+json">
        {
            "@context" : "https://schema.org",
            "@type" : "Article",
            "publisher": {
                "@type": "Organization",
                "name": "csMACnz&#x27;s Blog",
                "logo": "https:\/\/blog.csmac.nz\/images\/icon\/apple-touch-icon-144x144-precomposed.png"
            },
            "author": {
                "@type": "Person",
                "name": "Mark Clearwater",
                "image": {
                    "@type": "ImageObject",
                    "url": "//www.gravatar.com/avatar/c97410951ec3738a3fd4a2dfb17a5d9c?d=404&s=250",
                    "width": 440,
                    "height": 295
                },
                "url": "https:\/\/blog.csmac.nz",
                "sameAs": [
                    "https://csmac.nz"
                ]
            },
            "articleSection" : "post",
            "name" : "An almost seamless transition from Ghost to Hugo",
            "headline" : "An almost seamless transition from Ghost to Hugo",
            "url" : "https:\/\/blog.csmac.nz\/post\/an-almost-seamless-transition-from-ghost-to-hugo\/",
            "datePublished": "2021-08-10T20:30:00.000Z",
            "dateModified" : "2021-08-10T20:30:00.000Z",
            "image" : {
                "@type": "ImageObject",
                "url": "https:\/\/images.unsplash.com\/photo-1628435600697-6a954dea5055?ixlib=rb-1.2.1\u0026q=80\u0026fm=jpg\u0026crop=entropy\u0026cs=tinysrgb\u0026w=500\u0026fit=max\u0026ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8",
                "width": 440,
                "height": 295
            },
            "keywords" : [ "Ghost", "Hugo", "Blog Update" ]
            "description" : "Well, I finally did it. Ghost has been sitting on an older version for a long time, my certs were expiring, and I did something about it.\nTL;DR; My blog engine and hosting were deteriorating fast, so I moved to GitHub Pages, Hugo, and Static Site Generation, (mostly) without losing or breaking anything.\nSynopsys Years ago I moved from WordPress to Ghost. This let me get on with writing and not worrying about the hosting.",
            "mainEntityOfPage": {
                "@type": "WebPage",
                "@id": "https:\/\/blog.csmac.nz"
            }
            "inLanguage" : "en-US",
            "author" : "Mark Clearwater",
            "creator" : "Mark Clearwater",
            "accountablePerson" : "Mark Clearwater",
            "copyrightHolder" : "Mark Clearwater",
            "copyrightYear" : "2021",
            "wordCount" : "1204",
        }
        </script>
        
        
        
    </head>
    <body class="blog">
        <div class="page-area">

            <header class="header-area">
                <h1 class="header-area-title">csMACnz</h1>
            </header>
            <nav class="navigation-area header-bar-parent">
                <div class="header-bar header-bar-blog">
                    <ul class="menu">
                        <li class="menu-item"><a class="menu-item-content" href="https://csmac.nz">Home</a></li>
                        <li class="menu-item"><a class="menu-item-content" href="https://csmac.nz/BaconVaders">Bacon Vaders</a></li>
                        <li class="menu-item"><a class="menu-item-content CurrentButton" href="/">Blog</a></li>
                    </ul>
                </div>
            </nav>

            <div id="content" class="content-area">

<!--Page Content Begins-->

<article>
    <div class="content-box" itemscope itemtype=" https://schema.org/Article"><span class="post-meta"><time datetime="2021-08-10"  itemprop="datePublished">10 Aug 21</time> in <a href="/categories/projects">Projects</a>,  <a href="/categories/software-engineering">Software Engineering</a> on <a href="/tags/ghost">Ghost</a>,  <a href="/tags/hugo">Hugo</a>,  <a href="/tags/blog-update">Blog Update</a></span>
<h1 class="post-title" itemprop="headline">An almost seamless transition from Ghost to Hugo</h1>
    
        <section class="post-content"  itemprop="articleBody">
            <img class="post-image" src="https://images.unsplash.com/photo-1628435600697-6a954dea5055?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=500&amp;fit=max&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8"><p>Well, I finally did it. Ghost has been sitting on an older version for a long time, my certs were expiring, and I did something about it.</p>
<h2 id="tldr">TL;DR;</h2>
<p>My blog engine and hosting were deteriorating fast, so I moved to GitHub Pages, Hugo, and Static Site Generation, (mostly) without losing or breaking anything.</p>
<h2 id="synopsys">Synopsys</h2>
<p>Years ago I moved from WordPress to Ghost. This let me get on with writing and not worrying about the hosting. I moved it to Azure and even added a dynamic SSL certificate rotator using Lets Encrypt.</p>
<p>Eventually, the cert rotator broke, and the blog engine got enough major versions behind to make the upgrade path non-trivial to fix. Not to mention Google Ads decided my site wasn&rsquo;t good enough for them and so disabled any ads that could have shown up. Hosting costs on Azure, while small, were a factor to think about too.</p>
<p>Around the time I decided to do something about it, I also started paying attention to other people using static site generation to host their blogs. It didn&rsquo;t take long to find a few really great articles that showed how simple this was going to be. The simplest of which seemed to be <a href="https://gohugo.io/">Hugo</a> on <a href="https://pages.github.com/">GitHub Pages</a>. So that is the path I went down.</p>
<h2 id="what-went-well">What went well</h2>
<p>My initial research was well-founded, and I very easily found the tool <a href="https://github.com/jbarone/ghostToHugo">jbarone/ghostToHugo</a> designed for the job.</p>
<p>Initially, everything was super simple, and I had my content in Hugo in under an hour. Mainly I was following youngkin&rsquo;s article: <a href="https://youngkin.github.io/post/createafreeblogsite/">Create a Free Blog Site Using GitHub Pages and Hugo</a>, and then using ghostToHugo for my content.</p>
<ul>
<li><a href="https://gohugo.io/getting-started/installing/">Install Hugo CLI locally</a></li>
<li>create basis repository setup with the suggested theme <a href="https://youngkin.github.io/post/createafreeblogsite/">youngkin</a></li>
<li><a href="https://ghost.org/help/the-importer/">export my Ghost backup</a></li>
<li>install <a href="https://github.com/jbarone/ghostToHugo">ghostToHugo</a> tool</li>
<li>run ghostToHugo to migrate posts into the site</li>
<li>run locally to test</li>
</ul>
<p>(I&rsquo;m not repeating details here, because <a href="https://youngkin.github.io/post/createafreeblogsite/">youngkin</a> has it nailed.)</p>
<p>Getting this running on GitHub Pages was easy following that article too. Even setting a CNAME and DNS (a temporary subdomain while testing of course) was nice and easy to get working. (I use <a href="https://dnsimple.com/">DNSimple</a>.) Job done. Right?</p>
<h2 id="what-went-wrong">What went wrong</h2>
<p><strong>RSS.</strong> My RSS feed has been a bit of an issue really. I knew it would probably break, and it wasn&rsquo;t even available out of the box on Hugo either. So I fevered away adding RSS generation to the site generation and getting a fair approximation of my old feed. I knew it wouldn&rsquo;t be perfect, but I learned a bit about how the templating engine worked along the way. And when that hot cutover day came, it certainly failed. I had a few bugs to fix and all 50 people who have added this blog to their feed probably got a bit of a noisy mess. But hopefully, as they now read this article they now understand why. Also, there are now sub-categories with sub-category RSS feed URLs linked to from the right-hand sidebar now.</p>
<p><strong>Custom Theming.</strong> I built my custom theme way back when I moved to Ghost. And I didn&rsquo;t really feel like losing it. So I painstakingly mapped it from the Ghost templating engine to the one Hugo uses. This sucked. and it took ages (weeks) to get it right. Along the way, I probably did make some improvements that will be valuable later, like fixing the sidebar and better image handling possibilities. But this was probably the most time-consuming part of the whole process. In the end, retrologs&rsquo; <a href="https://retrolog.io/blog/creating-a-hugo-theme-from-scratch/">Creating a Hugo Theme From Scratch</a> was super useful at figuring out what went where, but I don&rsquo;t actually understand some parts of the collection lookup code I wrote in some places yet. But it worked. At the very least, my CSS appears to have held the test of time (surprisingly!).</p>
<p><strong>Permalinks.</strong> Turns out Ghost had a few permalink redirect capabilities. And also the default URLs in Ghost were <code>/slug-for-page/</code> while Hugo is <code>/post/slug-for-page/</code>. Luckily the <a href="https://gohugo.io/content-management/urls/#aliases">Aliases feature in Hugo</a> allowed me to add both the draft/preview link (<code>/p/&lt;GUID&gt;/</code>) as well as the old URL so that hopefully, no one loses my content, and instead get bounced to the right place.</p>
<p><strong>Disqus.</strong> See the comments at the bottom? I&rsquo;ve been using Disqus to make them available. Turns out this was quite useful in moving to a static hosted solution. For the most part, this went well, because Disqus actually have a <a href="https://help.disqus.com/en/articles/1717068-migration-tools">migration tools feature</a> available to use to move the URL associated with a page. The what went wrong part was that I prepared all the pages that looked like the normal post URL (<code>/slug-for-page/</code>) before I cut over my DNS, but didn&rsquo;t map any of the preview URLs (<code>/p/&lt;GUID&gt;/</code>) across. I think what happened is that Ghost provided an id to Disqus as well as a URL, and it uses the first URL it sees as the identifying one. When I preview drafts, that preview URL is the one it saves. Since Hugo is just using the actual URL and not the id anymore, I lost my mapping over a few pages which I neglected to migrate. (My incorrect assumption was the draft ids didn&rsquo;t have comments ðŸ˜¢.) I was without comments on some pages while I remedied that across a couple of evenings. It wasn&rsquo;t too bad to put together a new CSV file for that though in the end.</p>
<p><strong>Google Ads.</strong> Turns out they are still not happy with my website (and neither am I to be fair) so there is a bit more work to get them reenabled. It barely makes dollars a month, to be honest, but with it not working it makes a lot less of course.</p>
<p><strong>Content.</strong> I spent far too much time looking at my content. While Ghost had tags, Hugo has both <a href="https://blog.csmac.nz/tags/">Tags</a> and <a href="https://blog.csmac.nz/categories/">Categories</a>. I went through every historic post (193 over 13 and a half years if you can believe it) and updated many tags (deleting a bunch, adding a few) and creating categories for my content. I could have spent days (and still might) tidying up some of the content that never had any attention since coming out of WordPress and getting auto-converted to markdown all those years ago. But I held back, since I wanted to actually get this process done and back to writing. There was a little bit of work migrating some of the image functionality over too, but for the most part that was fine, too.</p>
<h2 id="summary">Summary</h2>
<p>Would I choose to do it again? Yes. I am certainly in a better place. So far, I think I&rsquo;ve backed the right horse in Hugo. The workflow seems about as good as it was before, and I am aware of a few tools such as <a href="https://cloudcannon.com/">CloudCannon</a> for better CMS management workflows if I desire. I might miss the Ghost app for drafts, but I mostly write on my desktop anyway. And since it is in GitHub, anything that can commit markdown to there is a way to draft.</p>
<p>Now that I have that done, the next step is likely to repeat the whole process with <code>csmac.nz</code> as well and fix its certs, ads, and content. (That last one has been bugging me since I moved to Ghost to be fair&hellip; <code>Â¯\_(ãƒ„)_/Â¯</code>)</p>
</section>
        
        <section class="share">
            Share: 
            <a class="icon-twitter" href="https://twitter.com/share?text=An%20almost%20seamless%20transition%20from%20Ghost%20to%20Hugo&url=https%3a%2f%2fblog.csmac.nz%2fpost%2fan-almost-seamless-transition-from-ghost-to-hugo%2f"
                onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <span>Twitter</span>
            </a>
            |
            <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.csmac.nz%2fpost%2fan-almost-seamless-transition-from-ghost-to-hugo%2f"
                onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                <span>Facebook</span>
            </a>
        </section>
    </div>
    <div class="content-box">
        
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            var disqus_shortname = d_id; 
            var disqus_title = 'An almost seamless transition from Ghost to Hugo';
            
             
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
    </div>
</article>

<!--Page Content Ends-->

            </div><aside class="sidebar-area">

<!--Sidebar Content Begins-->

                <div class="header-bar-parent sidebar-item">
                    <div class="header-bar header-bar-twitter">Twitter</div>
                    
                    <a class="twitter-timeline" data-lang="en" data-height="510" data-dnt="true" href="https://twitter.com/csMACnz?ref_src=twsrc%5Etfw">Tweets by csMACnz</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
                    
                </div>


                <div class="header-bar-parent sidebar-item">
                    <div class="header-bar header-bar-rss">Subscribe</div>
                    
                    <a href="/rssfeeds/" title="csMACnz's Blog">RSS Feeds</a>
                    <a href="https://feedly.com/i/subscription/feed%2Fhttps%3A%2F%2Ffeeds.feedburner.com%2FcsmacnzBlog" target="_blank" title="csMACnz&amp;#039;s Blog"><img src="https://s3.feedly.com/feedburner/feedly.png" alt="" style="border:0"/></a>
                    <a href="https://feeds.feedburner.com/csmacnzBlog" target="_blank"><img src="https://feeds.feedburner.com/~fc/csmacnzBlog?bg=fabb45&amp;fg=4B4B4B&amp;anim=1" height="26" width="88" style="border:0" alt="" /></a>
                    <br />
                    <a href="https://www.patreon.com/csMACnz" target="_blank"><img src="/images/patreon.png" /></a>
                    
                    
                </div>


                <div class="header-bar-parent sidebar-item">
                    <div class="header-bar header-bar-xbox">Gamercard</div>
                    

                    <div>
                        <a href="https://www.exophase.com/xbox/user/csMACnz/"><img width="288px" src="https://card.exophase.com/1/1476805.png"></a>
                        <a href="http://steamcommunity.com/id/csMACnz/" target="_blank"><img src="https://www.steamsignature.com/status/english/76561197994712512.png" alt="" title="csMACnz's Steam Profile" /></a>
                    </div>
                    
                </div>


                <div class="header-bar-parent sidebar-item">
                    <div class="header-bar header-bar-ads">Advertisement</div>
                    
                    <div>
                        
                        <ins class="adsbygoogle"
                            style="display:block"
                            data-ad-client="ca-pub-4517187877737982"
                            data-ad-slot="3618449993"
                            data-ad-format="auto"
                            data-full-width-responsive="true"></ins>
                        <script>
                            (adsbygoogle = window.adsbygoogle || []).push({});
                        </script>
                    </div>
                    
                </div>

<!--Sidebar Content Ends-->

            </aside>

            <footer class="footer-area">

            <p>
                Designed and Maintained by Mark Clearwater; Last updated August 2021.
                <!-- This used to be something useful, now it is just a hack I left it to make layout easier but also as a fun reminder for me of what it used to be -->
                <br /><a class="footer-link" >Â¯\_(ãƒ„)_/Â¯</a>
            </p>

            </footer>
        </div>

<!--body scripts Begins-->

        
        <script src="/js/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>

        <script src="/js/codetoggle.js"></script> 

        
        <script>
            var _gaq = [['_setAccount', g_id], ['_trackPageview']];
            (function (d, t) {
                var g = d.createElement(t), s = d.getElementsByTagName(t)[0];
                g.src = ('https:' == location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js';
                s.parentNode.insertBefore(g, s);
            }(document, 'script'));
        </script>

        <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

<!--body scripts Ends-->


<!-------------------------------->
<!--                            -->
<!--  _(\    |@@|               -->
<!-- (__/\__ \--/ __            -->
<!--    \___|----|  |   __      -->
<!--        \ }{ /\ )_ / _\     -->
<!--        /\__/\ \__O (__     -->
<!--       (--/\--)    \__/     -->
<!--       _)(  )(_             -->
<!--      `---''---`            -->
<!--                            -->
<!-- https://github.com/csMACnz -->
<!-------------------------------->

    </body>
</html>
