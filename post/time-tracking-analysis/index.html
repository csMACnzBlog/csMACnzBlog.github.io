<!DOCTYPE html>
<html lang="en">
    <head>

        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name='author' content='Mark Clearwater, csmacnz@csmac.co.nz'>
        <meta name='language' content='EN'>
        <meta name='medium' content='blog'>

    
        <title>Time-tracking Analysis - Parsing and Presenting a Heatmap of your working week from Toggl Data - csMACnz&#39;s Blog</title>
        <meta name="description" content="As a remote worker, I need to keep myself honest. This is as much &ldquo;Make sure I do my hours&rdquo; as it is &ldquo;Don&rsquo;t overwork!&rdquo;. Anyone who has worked from home or remotely for a period of time …">
        <meta name='keywords' content='csMACnz, Projects'>

        
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Time-tracking Analysis - Parsing and Presenting a Heatmap of your working week from Toggl Data"/>
        <meta property="og:description" content="As a remote worker, I need to keep myself honest. This is as much &ldquo;Make sure I do my hours&rdquo; as it is &ldquo;Don&rsquo;t overwork!&rdquo;. Anyone who has worked from home or remotely for a period of time …"/>
        <meta property="og:site_name" content="csMACnz&#39;s Blog"/>
        <meta property="og:url" content="https://blogmigration.csmac.nz/post/time-tracking-analysis/"/>
        <meta property="og:image" content="http://csmac.nz/Content/icon/icon.png"/>

        
        <meta name="twitter:card" content="summary"/>
        <meta name="twitter:title" content="Time-tracking Analysis - Parsing and Presenting a Heatmap of your working week from Toggl Data"/>
        <meta name="twitter:description" content="As a remote worker, I need to keep myself honest. This is as much &ldquo;Make sure I do my hours&rdquo; as it is &ldquo;Don&rsquo;t overwork!&rdquo;. Anyone who has worked from home or remotely for a period of time …"/>
        <meta name="twitter:image" content="http://csmac.nz/Content/icon/icon.png"/>
        <meta name="twitter:site" content="@csMACnz"/>
        <meta name="twitter:creator" content="@csMACnz"/>
    

        <link rel="apple-touch-icon-precomposed" href="/images/icon/apple-touch-icon-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/icon/apple-touch-icon-72x72-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/icon/apple-touch-icon-114x114-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/icon/apple-touch-icon-144x144-precomposed.png">
        <link rel="icon" type="image/png" href="/images/icon/icon.png" />
        <link rel='me' type='text/html' href='https://github.com/csMACnz'>

        <script>
            var d_id  = 'csmacnz',
                g_id  = 'UA-18464866-2',
                g_url = 'auto';
        </script>

        <link rel="stylesheet" type="text/css" href="/css/style.css" />
        <link rel="stylesheet" type="text/css" href="/css/blogstyle.css" />

        <link rel="alternate stylesheet" title="dark-code" type="text/css" href="/css/solarized_dark.css" disabled>
        <link rel="stylesheet" title="light-code" type="text/css" href="/css/github-gist.css" disabled>

        
        
        <script type="application/ld+json">
        {
            "@context" : "https://schema.org",
            "@type" : "Article",
            "publisher": {
                "@type": "Organization",
                "name": "csMACnz&#x27;s Blog",
                "logo": "https:\/\/blogmigration.csmac.nz\/images\/icon\/apple-touch-icon-144x144-precomposed.png"
            },
            "author": {
                "@type": "Person",
                "name": "Mark Clearwater",
                "image": {
                    "@type": "ImageObject",
                    "url": "//www.gravatar.com/avatar/c97410951ec3738a3fd4a2dfb17a5d9c?d=404&s=250",
                    "width": 440,
                    "height": 295
                },
                "url": "https:\/\/blogmigration.csmac.nz",
                "sameAs": [
                    "http://csmac.nz"
                ]
            },
            "articleSection" : "post",
            "name" : "Time-tracking Analysis - Parsing and Presenting a Heatmap of your working week from Toggl Data",
            "headline" : "Time-tracking Analysis - Parsing and Presenting a Heatmap of your working week from Toggl Data",
            "url" : "https:\/\/blogmigration.csmac.nz\/post\/time-tracking-analysis\/",
            "datePublished": "2018-08-27T06:00:00.000Z",
            "dateModified" : "2018-08-27T06:00:00.000Z",
            "image" : {
                "@type": "ImageObject",
                "url": "https:\/\/images.unsplash.com\/photo-1490684409501-7fef866a3396?ixlib=rb-0.3.5\u0026q=80\u0026fm=jpg\u0026crop=entropy\u0026cs=tinysrgb\u0026w=1080\u0026fit=max\u0026ixid=eyJhcHBfaWQiOjE2ODI3fQ\u0026s=334a716ec6c4eb50b0bdc360e2c67c7c",
                "width": 440,
                "height": 295
            },
            "keywords" : [ "Projects" ]
            "description" : "As a remote worker, I need to keep myself honest. This is as much \u0026ldquo;Make sure I do my hours\u0026rdquo; as it is \u0026ldquo;Don\u0026rsquo;t overwork!\u0026rdquo;. Anyone who has worked from home or remotely for a period of time understands what I mean completely.\nTo monitor this, I use Toggl. Toggl is time-tracking as a service, which includes cloud tracking data storage, annotating time against projects and clients, and Client applications for most if not all platforms including web, mobile and desktop.",
            "mainEntityOfPage": {
                "@type": "WebPage",
                "@id": "https:\/\/blogmigration.csmac.nz"
            }
            "inLanguage" : "en-US",
            "author" : "Mark Clearwater",
            "creator" : "Mark Clearwater",
            "accountablePerson" : "Mark Clearwater",
            "copyrightHolder" : "Mark Clearwater",
            "copyrightYear" : "2018",
            "wordCount" : "1014",
        }
        </script>
        
        
        
    </head>
    <body class="blog">
        <div class="page-area">

            <header class="header-area">
                <h1 class="header-area-title">csMACnz</h1>
            </header>
            <nav class="navigation-area header-bar-parent">
                <div class="header-bar header-bar-blog">
                    <ul class="menu">
                        <li class="menu-item"><a class="menu-item-content" href="http://csmac.nz">Home</a></li>
                        <li class="menu-item"><a class="menu-item-content" href="http://csmac.nz/BaconVaders">Bacon Vaders</a></li>
                        <li class="menu-item"><a class="menu-item-content CurrentButton" href="/">Blog</a></li>
                    </ul>
                </div>
            </nav>

            <div id="content" class="content-area">

<!--Page Content Begins-->

<article>
    <div class="content-box" itemscope itemtype="http://schema.org/Article">
    
        <span class="post-meta"><time datetime="2018-08-27"  itemprop="datePublished">27 Aug 18</time> on <a href="/tags/projects">Projects</a></span>
    
        <h1 class="post-title" itemprop="headline">Time-tracking Analysis - Parsing and Presenting a Heatmap of your working week from Toggl Data</h1>
    
        <section class="post-content"  itemprop="articleBody">
            <img class="post-image" src="https://images.unsplash.com/photo-1490684409501-7fef866a3396?ixlib=rb-0.3.5&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=1080&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjE2ODI3fQ&amp;s=334a716ec6c4eb50b0bdc360e2c67c7c"><p>As a remote worker, I need to keep myself honest. This is as much &ldquo;Make sure I do my hours&rdquo; as it is &ldquo;Don&rsquo;t overwork!&rdquo;. Anyone who has worked from home or remotely for a period of time understands what I mean completely.</p>
<p>To monitor this, I use <a href="https://www.toggl.com">Toggl</a>. Toggl is time-tracking as a service, which includes cloud tracking data storage, annotating time against projects and clients, and Client applications for most if not all platforms including web, mobile and desktop. Tracking is even done server side so you can start your timer on one device, and stop it from another. As I say, you can annotate your time with Client, Project, even custom tags.</p>
<p>Toggl has a bunch of advanced time-coding features to produce reports against different projects. If you pay for their starter plan, it can even handle Billable Time. I don&rsquo;t use any of that. I use their Windows Desktop client (which includes idle time detection to easily clear <a href="https://www.grammarly.com/blog/afk-meaning/">AFK</a> time) and their online data storage, to hold onto my data for me.</p>
<p>I created this little tool to help me visualise my work patterns as a bit of a heatmap. This was a way for me to answer the question &ldquo;What are my &lsquo;office hours&rsquo;&rdquo; as well as an indication of my work patterns for my team.</p>
<h3 id="the-instructions">The instructions</h3>
<h4 id="exporting-data">Exporting Data</h4>
<p>Using the Toggl Reports, I can select a time period of data I want to have access to. (Instructions <a href="https://support.toggl.com/tag/export/">here</a>.) I select a range, say the last year, and then export as CSV.</p>
<p><img src="http://res.cloudinary.com/csmacnz/image/upload/c_scale,w_600/v1534489912/TogglExport_wzkiix.png" alt="Export Toggl Report data using detailed."></p>
<p>Make sure that you are Exporting a Detailed report. Your file will be named like &ldquo;Toggl_time_entries_2016-01-01_to_2016-12-31.csv&rdquo;.</p>
<p>The format of this file should be like this:</p>
<pre><code>User,Email,Client,Project,Task,Description,Billable,Start date,Start time,End date,End time,Duration,Tags,Amount ()
First Last,first.last@email.address,,,,&quot;&quot;,No,2016-05-04,10:00:00,2016-05-04,13:00:00,03:00:00,,
First Last,first.last@email.address,,,,&quot;&quot;,No,2016-05-04,14:00:00,2016-05-04,16:00:00,02:00:00,,
</code></pre>
<p>In theory, anyone could create a CSV in this format and this tool will work just fine for them too. I only use the <code>Start date,Start time,End date,End time,Duration</code> fields anyway.</p>
<h4 id="process-the-data">Process the data</h4>
<p>Now that I have a local CSV file, I can process it through my application.</p>
<p>I have made this available as a dotnet tool, so you can easily install it globally and run it from anywhere.</p>
<pre><code class="language-cmd"># install globally
dotnet tool install -g TogglHeatmap

# if installed globally, this should just be available on your path
TogglHeatmap &lt;args&gt;

# install into a local folder
dotnet tool install TogglHeatmap --tools-path tools

# if installed into a tools path, you can run it from there.
.\tools\TogglHeatmap &lt;args&gt;
</code></pre>
<p>For those new to tools, there is also an update option if newer versions come available, as well as a version parameter if you require a specific version:</p>
<pre><code class="language-cmd">dotnet tool install -g TogglHeatmap --version 1.0.0
# update doesn't support version but instead gets the latest
dotnet tool update -g TogglHeatmap
# to replace with a specific version, first uninstall, then install with specific version required specified.
</code></pre>
<p>At this stage, the args for the application are as follows (subject to change, check <code>TogglHeatmap --help</code> for latest):</p>
<pre><code class="language-cmd"># Start and End dates
TogglHeatmap dataFile.csv 2018-01-01 2018-06-01

# Start and week count
TogglHeatmap dataFile.csv 2018-01-01 26
</code></pre>
<p>This should produce a nice report of numbers to the console output:</p>
<pre><code>&gt; TogglHeatmap Toggl_time_entries_2017-08-15_to_2018-08-15.csv 2018-1-1 2018-08-15
Data from 1/1/18 0:00:00 to 15/8/18 0:00:00
First day: Monday
Number of weeks: 32
----
Time,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday,Sunday
00:00,0,13,0,11,0,0,0
00:30,0,8,0,8,0,0,0
01:00,0,4,0,5,0,0,0
01:30,0,2,0,2,0,0,0
02:00,0,0,0,0,0,0,0
02:30,0,0,0,0,0,0,0
03:00,0,0,0,0,0,0,0
03:30,0,0,0,0,0,0,0
04:00,0,0,0,0,0,0,0
04:30,0,0,0,0,0,0,0
05:00,0,0,0,0,0,0,0
05:30,0,0,0,0,0,0,0
06:00,0,0,0,0,0,0,0
06:30,0,0,0,0,0,0,0
07:00,0,0,0,0,0,0,0
07:30,0,0,4,0,0,0,0
08:00,0,0,5,3,4,0,0
08:30,3,5,10,7,6,0,0
09:00,4,10,12,13,6,0,0
09:30,8,17,16,18,10,0,0
10:00,19,22,27,23,26,0,0
10:30,24,20,27,24,23,0,0
11:00,24,21,28,28,22,0,1
11:30,24,20,29,28,22,0,0
12:00,23,22,28,27,21,0,0
12:30,21,20,27,27,21,0,0
13:00,23,20,25,23,21,0,0
13:30,23,21,26,23,23,0,0
14:00,23,23,28,24,22,0,0
14:30,24,24,25,25,24,0,0
15:00,22,25,27,23,25,0,0
15:30,22,24,26,26,24,0,0
16:00,23,27,27,26,24,0,0
16:30,22,25,27,24,24,0,0
17:00,19,21,20,21,16,0,0
17:30,11,18,16,16,7,0,0
18:00,11,19,10,13,6,0,0
18:30,9,13,3,12,5,0,0
19:00,3,9,2,6,5,0,0
19:30,2,9,4,3,3,0,0
20:00,7,4,9,5,2,0,0
20:30,8,7,12,6,2,0,0
21:00,11,6,15,6,2,0,0
21:30,22,6,18,5,1,0,1
22:00,22,4,21,3,1,0,1
22:30,19,1,21,1,1,0,1
23:00,18,1,19,0,0,0,0
23:30,13,1,14,0,0,0,0
----

Copy the data above into a CSV file to make it pretty in a spreadsheet
</code></pre>
<p>We have our heatmap data, and we can copy and save it to a CSV file. Now we can do whatever makes sense to us to present it.</p>
<h4 id="spreadsheet-ui">Spreadsheet UI</h4>
<p>For instance, you may want to pull it into a Google Sheet. This should be similar for Excel if that is your office suite of choice instead.</p>
<p>First, create a new Sheet.</p>
<p>Take your CSV file of data you created before from the output. You can import that file into Sheets. Simply go to <code>File-&gt;Import...</code> menu, and in the popup and locate your file. Once you have located, uploaded and selected your file, you will get the second dialogue. In this dialogue Select where you want the data to go (for example <code>Insert new sheet</code>, or <code>Replace current sheet</code>) and choose <code>Comma</code> for the Separator type.</p>
<p><img src="http://res.cloudinary.com/csmacnz/image/upload/c_scale,w_200/v1534489034/SheetsImportFileDialog_izktyl.png" alt="Import Sheet dialogue"></p>
<p>Once imported, you may want to conditionally colour the numbers. Select cell range from <code>B2</code> to <code>H49</code>, Select <code>Format-&gt;Conditional Formatting...</code> from the menu. In the sidebar that opens on the right, select the <code>Color scale</code> from the tab at the top, ensure <code>Apply to range</code> is set to <code>B2:H49</code> as selected before, And select the colours you want from the drop-down labelled <code>Preview</code>.</p>
<p><img src="http://res.cloudinary.com/csmacnz/image/upload/c_scale,w_200/v1534491621/GoogleSheetsColorFormating_nzeuba.png" alt="Use Color scale Conditional formatting on cells"></p>
<p>Click done to finish and enjoy your pretty picture.</p>
<p><img src="http://res.cloudinary.com/csmacnz/image/upload/c_scale,w_600/v1534492505/HeatmapResult_alnhio.png" alt="A calendar view with heatmap data on each cell"></p>
<h3 id="analysis">Analysis</h3>
<p>For me, this &lsquo;graph&rsquo; above gives me interesting insights, such as that my day is 10am-5pm then Monday nights and Wednesday nights 9:30 pm until 1 am, But I am really working anytime from 8:30 am till midnight early in the week, 8 am till 11 pm later in the week. There is also no correlation for when I take lunch, but dinner break is some time between 6:30 pm and 8 pm.</p>
<p>These insights are easier to presume from the visual graph, and I can compare these graphs for different periods of the year to see how these insights change.</p>
<h3 id="conclusion">Conclusion</h3>
<p>I&rsquo;ve got a bunch of ideas to improve the CLI interface for TogglHeatmap. Including just using all the data as the date range without requiring entry. It might happen at some point, who knows? One of my other projects is working on an <a href="https://github.com/csMACnz/consolable">args parser library</a> so this might be just another testbed for that at some point.</p>
<p>The source code is on Github at <a href="https://github.com/csMACnz/TogglHeatmap">github.com/csMACnz/TogglHeatmap</a>. Issues welcome.</p>
<p>Hopefully, someone other than me finds this useful. If not, I have found it useful to document the evolution of my working hours.</p>
</section>
        
        <section class="share">
            Share: 
            <a class="icon-twitter" href="http://twitter.com/share?text=Time-tracking%20Analysis%20-%20Parsing%20and%20Presenting%20a%20Heatmap%20of%20your%20working%20week%20from%20Toggl%20Data&url=https%3a%2f%2fblogmigration.csmac.nz%2fpost%2ftime-tracking-analysis%2f"
                onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <span>Twitter</span>
            </a>
            |
            <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblogmigration.csmac.nz%2fpost%2ftime-tracking-analysis%2f"
                onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                <span>Facebook</span>
            </a>
        </section>
    </div>
    <div class="content-box">
        
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            var disqus_shortname = d_id; 
            var disqus_title = 'Time-tracking Analysis - Parsing and Presenting a Heatmap of your working week from Toggl Data';
            
             
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
    </div>
</article>

<!--Page Content Ends-->

            </div><aside class="sidebar-area">

<!--Sidebar Content Begins-->

                <div class="header-bar-parent sidebar-item">
                    <div class="header-bar header-bar-twitter">Twitter</div>
                    
                    <a class="twitter-timeline" style="display: block; text-align: center;" href="https://twitter.com/csmacnz" data-widget-id="523634688984772608">Tweets by @@csmacnz</a>
                    <script>!function (d, s, id) { var js, fjs = d.getElementsByTagName(s)[0], p = /^http:/.test(d.location) ? 'http' : 'https'; if (!d.getElementById(id)) { js = d.createElement(s); js.id = id; js.src = p + "://platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs); } }(document, "script", "twitter-wjs");</script>
                    
                </div>

                
                <div class="header-bar-parent sidebar-item">
                    <div class="header-bar header-bar-rss">Subscribe</div>
                    
                    <a href="/rssfeeds/" title="csMACnz's Blog">RSS Feeds</a>
                    <a href="http://add.my.yahoo.com/rss?url=http://feeds.feedburner.com/csmacnzBlog" title="csMACnz&amp;#039;s Blog"><img src="http://us.i1.yimg.com/us.yimg.com/i/us/my/addtomyyahoo4.gif" alt="" style="border:0"/></a>
                    <a href="http://feedly.com/#subscription/feed/http://feeds.feedburner.com/csmacnzBlog" title="csMACnz&amp;#039;s Blog"><img src="http://s3.feedly.com/feedburner/feedly.png" alt="" style="border:0"/></a>
                    <a href="http://www.netvibes.com/subscribe.php?url=http://feeds.feedburner.com/csmacnzBlog"><img src="http://www.netvibes.com/img/add2netvibes.gif" width="91" height="17" alt="Add to netvibes" style="border:0" /></a>
                    <a href="http://feeds.feedburner.com/csmacnzBlog"><img src="http://feeds.feedburner.com/~fc/csmacnzBlog?bg=fabb45&amp;fg=4B4B4B&amp;anim=1" height="26" width="88" style="border:0" alt="" /></a>
                    <br />
                    <a href="https://www.patreon.com/csMACnz" target="_blank"><img src="/images/patreon.png" /></a>
                    
                    
                </div>


                <div class="header-bar-parent sidebar-item">
                    <div class="header-bar header-bar-xbox">Gamercard</div>
                    

                    <div>
                        <a href="https://www.exophase.com/xbox/user/csMACnz/"><img width="288px" src="https://card.exophase.com/1/1476805.png"></a>
                        <a href="http://steamcommunity.com/id/csMACnz/" target="_blank"><img src="https://www.steamsignature.com/status/english/76561197994712512.png" alt="" title="csMACnz's Steam Profile" /></a>
                    </div>
                    
                </div>


                <div class="header-bar-parent sidebar-item">
                    <div class="header-bar header-bar-ads">Advertisement</div>
                    
                    <div>
                        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4517187877737982"
                            crossorigin="anonymous"></script>
                        
                        <ins class="adsbygoogle"
                            style="display:block"
                            data-ad-client="ca-pub-4517187877737982"
                            data-ad-slot="3618449993"
                            data-ad-format="auto"
                            data-full-width-responsive="true"></ins>
                        <script>
                            (adsbygoogle = window.adsbygoogle || []).push({});
                        </script>
                    </div>
                    
                </div>

<!--Sidebar Content Ends-->

            </aside>

            <footer class="footer-area">

            <p>
                Designed and Maintained by Mark Clearwater; Last updated August 2021.
                <!-- This used to be something useful, now it is just a hack I left it to make layout easier but also as a fun reminder for me of what it used to be -->
                <br /><a class="footer-link" >¯\_(ツ)_/¯</a>
            </p>

            </footer>
        </div>

<!--body scripts Begins-->

        
        <script src="/js/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>

        <script src="/js/codetoggle.js"></script> 

        
        <script>
            var _gaq = [['_setAccount', g_id], ['_trackPageview']];
            (function (d, t) {
                var g = d.createElement(t), s = d.getElementsByTagName(t)[0];
                g.src = ('https:' == location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js';
                s.parentNode.insertBefore(g, s);
            }(document, 'script'));
        </script>

        <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

<!--body scripts Ends-->


<!-------------------------------->
<!--                            -->
<!--  _(\    |@@|               -->
<!-- (__/\__ \--/ __            -->
<!--    \___|----|  |   __      -->
<!--        \ }{ /\ )_ / _\     -->
<!--        /\__/\ \__O (__     -->
<!--       (--/\--)    \__/     -->
<!--       _)(  )(_             -->
<!--      `---''---`            -->
<!--                            -->
<!-- https://github.com/csMACnz -->
<!-------------------------------->

    </body>
</html>
